{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.profile = exports.EmbeddedVideoImplementation = void 0;\n\nconst UAParser = require(\"ua-parser-js\");\n\nvar EmbeddedVideoImplementation;\n\n(function (EmbeddedVideoImplementation) {\n  EmbeddedVideoImplementation[EmbeddedVideoImplementation[\"OBJECT_URL\"] = 0] = \"OBJECT_URL\";\n  EmbeddedVideoImplementation[EmbeddedVideoImplementation[\"SRC_OBJECT\"] = 1] = \"SRC_OBJECT\";\n})(EmbeddedVideoImplementation = exports.EmbeddedVideoImplementation || (exports.EmbeddedVideoImplementation = {}));\n\nexports.profile = {\n  deviceMotionMutliplier: -1.0,\n  blacklisted: false,\n  showGyroPermissionsWarningIfNecessary: false,\n  showSafariPermissionsResetIfNecessary: false,\n  requestHighFrameRate: false,\n  videoWidth: 640,\n  videoHeight: 480,\n  dataWidth: 320,\n  dataHeight: 240,\n  videoElementInDOM: false\n};\nwindow[\"zeeProfile\"] = exports.profile;\nlet agent = new UAParser.UAParser();\n\nswitch (agent.getBrowser().name) {\n  case \"Safari\":\n    exports.profile.deviceMotionMutliplier = 1.0;\n\n    if (window.orientation === undefined) {\n      // Desktop Safari\n      break;\n    }\n\n    exports.profile.videoElementInDOM = true;\n    exports.profile.showSafariPermissionsResetIfNecessary = true;\n    break;\n\n  case \"Chrome\":\n    let engine = agent.getEngine();\n\n    if (!engine || engine.name !== \"WebKit\") {\n      break;\n    }\n\n  case \"Mobile Safari\":\n    exports.profile.deviceMotionMutliplier = 1.0;\n    let version = agent.getOS().version;\n\n    if (version) {\n      let versionParts = version.split(\".\");\n\n      if (versionParts.length >= 2) {\n        const majorVersion = parseInt(versionParts[0]);\n        const minorVersion = parseInt(versionParts[1]);\n\n        if (majorVersion < 11 || majorVersion === 11 && minorVersion < 3) {\n          exports.profile.blacklisted = true;\n        }\n\n        if (majorVersion < 12 || majorVersion === 12 && minorVersion < 2) {\n          exports.profile.videoElementInDOM = true;\n        }\n\n        if (majorVersion === 12 && minorVersion >= 2 || majorVersion >= 13) exports.profile.showGyroPermissionsWarningIfNecessary = true;\n\n        if (majorVersion >= 13) {\n          exports.profile.showSafariPermissionsResetIfNecessary = true;\n        }\n\n        if ((majorVersion >= 12 && minorVersion > 1 || majorVersion >= 13) && navigator.mediaDevices && navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().frameRate) {\n          exports.profile.requestHighFrameRate = true; // Avoid bug where iOS letterboxes 16:9 into 4:3 for high fps\n\n          exports.profile.videoHeight = 360;\n          exports.profile.dataHeight = 180;\n        }\n      }\n    }\n\n    break;\n}","map":{"version":3,"sources":["/Users/hoyiki/Desktop/react-three-example-instant-tracking-cube/node_modules/@zappar/zappar-cv/lib/profile.js"],"names":["Object","defineProperty","exports","value","profile","EmbeddedVideoImplementation","UAParser","require","deviceMotionMutliplier","blacklisted","showGyroPermissionsWarningIfNecessary","showSafariPermissionsResetIfNecessary","requestHighFrameRate","videoWidth","videoHeight","dataWidth","dataHeight","videoElementInDOM","window","agent","getBrowser","name","orientation","undefined","engine","getEngine","version","getOS","versionParts","split","length","majorVersion","parseInt","minorVersion","navigator","mediaDevices","getSupportedConstraints","frameRate"],"mappings":"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","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.profile = exports.EmbeddedVideoImplementation = void 0;\nconst UAParser = require(\"ua-parser-js\");\nvar EmbeddedVideoImplementation;\n(function (EmbeddedVideoImplementation) {\n    EmbeddedVideoImplementation[EmbeddedVideoImplementation[\"OBJECT_URL\"] = 0] = \"OBJECT_URL\";\n    EmbeddedVideoImplementation[EmbeddedVideoImplementation[\"SRC_OBJECT\"] = 1] = \"SRC_OBJECT\";\n})(EmbeddedVideoImplementation = exports.EmbeddedVideoImplementation || (exports.EmbeddedVideoImplementation = {}));\nexports.profile = {\n    deviceMotionMutliplier: -1.0,\n    blacklisted: false,\n    showGyroPermissionsWarningIfNecessary: false,\n    showSafariPermissionsResetIfNecessary: false,\n    requestHighFrameRate: false,\n    videoWidth: 640,\n    videoHeight: 480,\n    dataWidth: 320,\n    dataHeight: 240,\n    videoElementInDOM: false\n};\nwindow[\"zeeProfile\"] = exports.profile;\nlet agent = new UAParser.UAParser();\nswitch (agent.getBrowser().name) {\n    case \"Safari\":\n        exports.profile.deviceMotionMutliplier = 1.0;\n        if (window.orientation === undefined) {\n            // Desktop Safari\n            break;\n        }\n        exports.profile.videoElementInDOM = true;\n        exports.profile.showSafariPermissionsResetIfNecessary = true;\n        break;\n    case \"Chrome\":\n        let engine = agent.getEngine();\n        if (!engine || engine.name !== \"WebKit\") {\n            break;\n        }\n    case \"Mobile Safari\":\n        exports.profile.deviceMotionMutliplier = 1.0;\n        let version = agent.getOS().version;\n        if (version) {\n            let versionParts = version.split(\".\");\n            if (versionParts.length >= 2) {\n                const majorVersion = parseInt(versionParts[0]);\n                const minorVersion = parseInt(versionParts[1]);\n                if (majorVersion < 11 ||\n                    (majorVersion === 11 && minorVersion < 3)) {\n                    exports.profile.blacklisted = true;\n                }\n                if (majorVersion < 12 ||\n                    (majorVersion === 12 && minorVersion < 2)) {\n                    exports.profile.videoElementInDOM = true;\n                }\n                if ((majorVersion === 12 && minorVersion >= 2) || (majorVersion >= 13))\n                    exports.profile.showGyroPermissionsWarningIfNecessary = true;\n                if (majorVersion >= 13) {\n                    exports.profile.showSafariPermissionsResetIfNecessary = true;\n                }\n                if (((majorVersion >= 12 && minorVersion > 1) || (majorVersion >= 13)) &&\n                    navigator.mediaDevices &&\n                    navigator.mediaDevices.getSupportedConstraints &&\n                    navigator.mediaDevices.getSupportedConstraints().frameRate) {\n                    exports.profile.requestHighFrameRate = true;\n                    // Avoid bug where iOS letterboxes 16:9 into 4:3 for high fps\n                    exports.profile.videoHeight = 360;\n                    exports.profile.dataHeight = 180;\n                }\n            }\n        }\n        break;\n}\n"]},"metadata":{},"sourceType":"script"}